<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Mock数据 | vue-mooc</title>
    <meta name="description" content="使用Vue全家桶，高防慕课网PC端项目">
    <link rel="icon" href="/vue-mooc-site/icon.png">
    
    <link rel="preload" href="/vue-mooc-site/assets/css/0.styles.8c56f2c8.css" as="style"><link rel="preload" href="/vue-mooc-site/assets/js/app.611eefa8.js" as="script"><link rel="preload" href="/vue-mooc-site/assets/js/13.cdaafb88.js" as="script"><link rel="preload" href="/vue-mooc-site/assets/js/27.3b01d506.js" as="script"><link rel="prefetch" href="/vue-mooc-site/assets/js/1.4a566b06.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/10.d41cb277.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/100.7a4046eb.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/101.fcb83a4b.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/102.1d9b6a78.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/103.d44feeb9.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/104.b4373991.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/105.b971d1f9.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/106.005d1ab9.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/107.64713444.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/11.aa2ee5e3.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/14.3c4b295e.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/15.a53463c6.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/16.2bffb193.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/17.b79cf07b.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/18.55a2fcbc.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/19.80a6d4d1.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/2.50121935.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/20.dab620f5.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/21.a97d25c0.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/22.24e94715.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/23.f0925eee.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/24.cd783917.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/25.3f5862e1.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/26.549288b4.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/28.819d6a78.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/29.c7929a32.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/3.d130ad7b.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/30.c3ace002.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/31.c91f094a.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/32.9a7072f6.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/33.76ea0c96.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/34.c773ca9d.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/35.9b48ce3b.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/36.89755356.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/37.016a876d.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/38.de6d7160.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/39.750d900e.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/4.ad316a6d.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/40.7d71cf4d.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/41.4ebbdd0c.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/42.804b270b.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/43.102f8415.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/44.358a6b1a.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/45.7d6b66bd.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/46.001bda70.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/47.8525d80b.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/48.7fc7a152.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/49.484c6597.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/5.852714fe.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/50.dc4a4846.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/51.db885037.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/52.c3aa92c1.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/53.91abf7ba.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/54.8193e831.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/55.5f8ed0d2.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/56.1263f316.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/57.911bb78a.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/58.8ff6f4f1.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/59.b2403070.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/6.5641815c.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/60.973c3a01.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/61.c9ce406b.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/62.e04b538d.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/63.345e6876.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/64.8bdbb0bd.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/65.66f73bb2.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/66.cf456465.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/67.904b5a79.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/68.a00b0580.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/69.ae2589fd.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/7.7a07dcbb.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/70.291bb821.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/71.35cfa5f7.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/72.2966c734.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/73.bb512026.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/74.eecf8157.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/75.6d67cb58.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/76.b7e62cb7.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/77.98d461af.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/78.4bebc724.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/79.23a50d28.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/8.86b7a3b8.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/80.431bc801.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/81.0a2fbe90.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/82.51da132d.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/83.9d7e0653.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/84.5691ccec.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/85.901a565c.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/86.2125b5df.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/87.4917e713.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/88.54a94d9e.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/89.70f1f672.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/9.2f7c86c5.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/90.3c6999e2.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/91.4dc1828f.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/92.b5574099.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/93.167869cc.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/94.ecbf4a38.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/95.b3fb8ea1.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/96.7957a7ae.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/97.235ca40e.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/98.005aa9af.js"><link rel="prefetch" href="/vue-mooc-site/assets/js/99.e491d2fa.js">
    <link rel="stylesheet" href="/vue-mooc-site/assets/css/0.styles.8c56f2c8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vue-mooc-site/" class="home-link router-link-active"><!----> <span class="site-name">vue-mooc</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vue-mooc-site/guide/" class="nav-link router-link-active">指南</a></div><div class="nav-item"><a href="/vue-mooc-site/components/" class="nav-link">组件文档</a></div> <a href="https://github.com/wangtunan/vue-mooc" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/vue-mooc-site/guide/" class="nav-link router-link-active">指南</a></div><div class="nav-item"><a href="/vue-mooc-site/components/" class="nav-link">组件文档</a></div> <a href="https://github.com/wangtunan/vue-mooc" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>前言</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vue-mooc-site/guide/" class="sidebar-link">介绍</a></li><li><a href="/vue-mooc-site/guide/forceword/" class="sidebar-link">说明</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vue-mooc-site/guide/basic/start.html" class="sidebar-link">起步</a></li><li><a href="/vue-mooc-site/guide/basic/mock.html" class="active sidebar-link">Mock数据</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue-mooc-site/guide/basic/mock.html#easy-mock远程接口服务" class="sidebar-link">easy-mock远程接口服务</a></li><li class="sidebar-sub-header"><a href="/vue-mooc-site/guide/basic/mock.html#本地mock数据" class="sidebar-link">本地Mock数据</a></li><li class="sidebar-sub-header"><a href="/vue-mooc-site/guide/basic/mock.html#更方便的mock方式" class="sidebar-link">更方便的Mock方式</a></li></ul></li><li><a href="/vue-mooc-site/guide/basic/vuex.html" class="sidebar-link">Vuex&amp;缓存</a></li><li><a href="/vue-mooc-site/guide/basic/router.html" class="sidebar-link">路由&amp;路由拦截</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>基础组件封装</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vue-mooc-site/guide/components/" class="sidebar-link">准备</a></li><li><a href="/vue-mooc-site/guide/components/star.html" class="sidebar-link">Star 星级评分</a></li><li><a href="/vue-mooc-site/guide/components/badge.html" class="sidebar-link">Badge 标记</a></li><li><a href="/vue-mooc-site/guide/components/switch.html" class="sidebar-link">Switch 开关</a></li><li><a href="/vue-mooc-site/guide/components/timeline.html" class="sidebar-link">Timeline 时间线</a></li><li><a href="/vue-mooc-site/guide/components/progress.html" class="sidebar-link">Progress 进度条</a></li><li><a href="/vue-mooc-site/guide/components/steps.html" class="sidebar-link">Steps 步骤条</a></li><li><a href="/vue-mooc-site/guide/components/breadcrumb.html" class="sidebar-link">Breadcrumb 面包屑导航</a></li><li><a href="/vue-mooc-site/guide/components/backtop.html" class="sidebar-link">BackTop 返回顶部</a></li><li><a href="/vue-mooc-site/guide/components/button.html" class="sidebar-link">Button 按钮</a></li><li><a href="/vue-mooc-site/guide/components/message.html" class="sidebar-link">Message 消息提示</a></li><li><a href="/vue-mooc-site/guide/components/message-box.html" class="sidebar-link">MessageBox 消息确认</a></li><li><a href="/vue-mooc-site/guide/components/carousel.html" class="sidebar-link">Carousel 轮播</a></li><li><a href="/vue-mooc-site/guide/components/pagination.html" class="sidebar-link">Pagination 分页</a></li><li><a href="/vue-mooc-site/guide/components/dialog.html" class="sidebar-link">Dialog 弹窗</a></li><li><a href="/vue-mooc-site/guide/components/divider.html" class="sidebar-link">Divider 分割线</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>开发</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vue-mooc-site/guide/develop/layout.html" class="sidebar-link">布局</a></li><li><a href="/vue-mooc-site/guide/develop/sidebar.html" class="sidebar-link">侧边栏</a></li><li><a href="/vue-mooc-site/guide/develop/login.html" class="sidebar-link">登陆&amp;注册</a></li><li><a href="/vue-mooc-site/guide/develop/home.html" class="sidebar-link">首页</a></li><li><a href="/vue-mooc-site/guide/develop/course.html" class="sidebar-link">免费课程</a></li><li><a href="/vue-mooc-site/guide/develop/lesson.html" class="sidebar-link">实战课程</a></li><li><a href="/vue-mooc-site/guide/develop/read.html" class="sidebar-link">专栏</a></li><li><a href="/vue-mooc-site/guide/develop/question.html" class="sidebar-link">猿问</a></li><li><a href="/vue-mooc-site/guide/develop/article.html" class="sidebar-link">手记</a></li><li><a href="/vue-mooc-site/guide/develop/cart.html" class="sidebar-link">购物车</a></li><li><a href="/vue-mooc-site/guide/develop/notice.html" class="sidebar-link">消息中心</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>部署</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vue-mooc-site/guide/depoly/" class="sidebar-link">自动化部署</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="mock数据"><a href="#mock数据" aria-hidden="true" class="header-anchor">#</a> Mock数据</h1> <h2 id="easy-mock远程接口服务"><a href="#easy-mock远程接口服务" aria-hidden="true" class="header-anchor">#</a> easy-mock远程接口服务</h2> <div class="tip custom-block"><p><code>easy-mock</code>对于个人开发者而言，无疑是一个非常优秀的平台，但由于是免费的，接口服务可能会经常性的挂掉，所以我们在后来的版本中，逐渐摒弃了这种方式。</p></div> <p>在<code>vue-mooc</code>最初的时候，我们使用了<code>easy-mock</code>的远程接口服务，如果你也对<a href="https://www.easy-mock.com/" target="_blank" rel="noopener noreferrer">easy-mock<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>感兴趣的话，那么你可以去注册一个账号，<code>easy-mock</code>是免费的，
以下是使用<code>easy-mock</code>创建的一些接口列表，它们一共有<code>34</code>个：</p> <p><img src="/vue-mooc-site/assets/img/easy-api.3720e219.png" alt="easy-mock接口"></p> <h2 id="本地mock数据"><a href="#本地mock数据" aria-hidden="true" class="header-anchor">#</a> 本地Mock数据</h2> <div class="tip custom-block"><p>对于不喜欢使用<code>mock.js</code>这一类工具的人来说， 一方面自己手动写一份<code>mock</code>的<code>.json</code>文件，无疑是极具成就感的，另一方面，在没有接口支持的情况下，自己手动<code>mock</code>的方式也是非常普遍的。</p></div> <p><code>vue-mooc</code>项目全部使用了<code>mock</code>数据的方式来实现，以下是<code>public/mock</code>目录下所有的<code>json</code>文件：</p> <div class="language-sh extra-class"><pre class="language-sh"><code>mock
<span class="token operator">|</span>-- article                             <span class="token comment"># 手记模块</span>
<span class="token operator">|</span>   <span class="token operator">|</span>-- list.json                       <span class="token comment"># 手记列表数据</span>
<span class="token operator">|</span>   <span class="token operator">|</span>-- nav.json                        <span class="token comment"># 手记导航数据</span>
<span class="token operator">|</span>-- cart                                <span class="token comment"># 购物车模块</span>
<span class="token operator">|</span>   <span class="token operator">|</span>-- cart.json                       <span class="token comment"># 购物车数据</span>
<span class="token operator">|</span>   <span class="token operator">|</span>-- pay-way.json                    <span class="token comment"># 支付方式数据</span>
<span class="token operator">|</span>-- common                              <span class="token comment"># 公共模块</span>
<span class="token operator">|</span>   <span class="token operator">|</span>-- footer.json                     <span class="token comment"># 底部模块数据</span>
<span class="token operator">|</span>   <span class="token operator">|</span>-- header.json                     <span class="token comment"># 头部模块数据</span>
<span class="token operator">|</span>   <span class="token operator">|</span>-- hot.json                        <span class="token comment"># 热词模块数据</span>
<span class="token operator">|</span>   <span class="token operator">|</span>-- search-history.json             <span class="token comment"># 搜索历史模块数据</span>
<span class="token operator">|</span>-- course                              <span class="token comment"># 免费课程模块</span>
<span class="token operator">|</span>   <span class="token operator">|</span>-- detail.json                     <span class="token comment"># 免费课程详情数据</span>
<span class="token operator">|</span>   <span class="token operator">|</span>-- list.json                       <span class="token comment"># 免费课程列表数据</span>
<span class="token operator">|</span>   <span class="token operator">|</span>-- nav.json                        <span class="token comment"># 免费课程导航数据</span>
<span class="token operator">|</span>-- home                                <span class="token comment"># 首页模块</span>
<span class="token operator">|</span>   <span class="token operator">|</span>-- allstar.json                    <span class="token comment"># 全明星学员数据</span>
<span class="token operator">|</span>   <span class="token operator">|</span>-- article.json                    <span class="token comment"># 手记数据</span>
<span class="token operator">|</span>   <span class="token operator">|</span>-- course.json                     <span class="token comment"># 课程数据</span>
<span class="token operator">|</span>   <span class="token operator">|</span>-- nav.json                        <span class="token comment"># 导航数据</span>
<span class="token operator">|</span>   <span class="token operator">|</span>-- slider.json                     <span class="token comment"># 滚动轮播数据</span>
<span class="token operator">|</span>   <span class="token operator">|</span>-- teacher.json                    <span class="token comment"># 精英讲师数据</span>
<span class="token operator">|</span>-- lesson                              <span class="token comment"># 实战课程模块</span>
<span class="token operator">|</span>   <span class="token operator">|</span>-- detail.json                     <span class="token comment"># 实战课程详情数据</span>
<span class="token operator">|</span>   <span class="token operator">|</span>-- list.json                       <span class="token comment"># 实战课程列表数据</span>
<span class="token operator">|</span>   <span class="token operator">|</span>-- nav.json                        <span class="token comment"># 实战课程导航数据</span>
<span class="token operator">|</span>-- notice                              <span class="token comment"># 消息中心模块</span>
<span class="token operator">|</span>   <span class="token operator">|</span>-- notice.json                     <span class="token comment"># 消息列表数据</span>
<span class="token operator">|</span>   <span class="token operator">|</span>-- setting.json                    <span class="token comment"># 消息设置数据</span>
<span class="token operator">|</span>-- question                            <span class="token comment"># 猿问模块</span>
<span class="token operator">|</span>   <span class="token operator">|</span>-- question.json                   <span class="token comment"># 猿问列表数据</span>
<span class="token operator">|</span>-- <span class="token function">read</span>                                <span class="token comment"># 专栏模块</span>
<span class="token operator">|</span>   <span class="token operator">|</span>-- detail.json                     <span class="token comment"># 专栏详情数据</span>
<span class="token operator">|</span>   <span class="token operator">|</span>-- read.json                       <span class="token comment"># 专栏列表数据</span>
<span class="token operator">|</span>-- user                                <span class="token comment"># 订单中心&amp;个人中心模块</span>
<span class="token operator">|</span>   <span class="token operator">|</span>-- bill.json                       <span class="token comment"># 消费记录数据</span>
<span class="token operator">|</span>   <span class="token operator">|</span>-- consult.json                    <span class="token comment"># 课程咨询数据</span>
<span class="token operator">|</span>   <span class="token operator">|</span>-- course.json                     <span class="token comment"># 我的课程数据</span>
<span class="token operator">|</span>   <span class="token operator">|</span>-- curpon.json                     <span class="token comment"># 我的余额数据</span>
<span class="token operator">|</span>   <span class="token operator">|</span>-- login.json                      <span class="token comment"># 登录数据</span>
<span class="token operator">|</span>   <span class="token operator">|</span>-- order.json                      <span class="token comment"># 我的订单数据</span>
<span class="token operator">|</span>   <span class="token operator">|</span>-- recharge.json                   <span class="token comment"># 我的发票数据</span>
<span class="token operator">|</span>   <span class="token operator">|</span>-- register.json                   <span class="token comment"># 注册数据</span>
<span class="token operator">|</span>   <span class="token operator">|</span>-- userinfo.json                   <span class="token comment"># 个人信息数据</span>
</code></pre></div><p>有了上面的<code>mock</code>数据后，我们需要在<code>vue.config.js</code>里面设置一下请求代理，如下：</p> <div class="language-js extra-class"><pre class="language-js"><code>devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  port<span class="token punctuation">:</span> <span class="token number">3400</span><span class="token punctuation">,</span>
  proxy<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">'/mock'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
      target<span class="token punctuation">:</span> <span class="token string">'http://localhost:3400'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>添加完以上代理代码后，我们还需要进行安装<code>axios</code>：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 安装axios</span>
$ npm install axios <span class="token operator">--</span>save
</code></pre></div><p>安装完以后，我们需要在<code>utils</code>目录下新建<code>axios.js</code>文件，并添加拦截代码：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Message <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'element-ui'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">ERR_OK</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'api/config.js'</span>

<span class="token keyword">const</span> service <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  timeout<span class="token punctuation">:</span> <span class="token number">10000</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 请求拦截</span>
service<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
  <span class="token parameter">config</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> config
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span>

<span class="token comment">//响应拦截</span>
service<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
  <span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> <span class="token punctuation">{</span>status<span class="token punctuation">,</span> data<span class="token punctuation">}</span> <span class="token operator">=</span> response
    <span class="token keyword">if</span> <span class="token punctuation">(</span>status <span class="token operator">!==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      Message<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'网络异常，请刷新或者重试!'</span><span class="token punctuation">)</span>
      <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">'网络异常!'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>code <span class="token operator">!==</span> <span class="token constant">ERR_OK</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      Message<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>msg <span class="token operator">||</span> <span class="token string">'接口请求异常，请重试!'</span><span class="token punctuation">)</span>
      <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>msg <span class="token operator">||</span> <span class="token string">'接口异常!'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> service
</code></pre></div><p><code>axios</code>统一拦截后，我们就可以在<code>src/api</code>目录下撰写我们的请求接口了，例如下面的案例：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// src/api/test.js</span>

<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'utils/axios.js'</span>

<span class="token comment">// get请求接口</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getTest</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/mock/test.json'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>撰写完毕后，我们可以在页面中引入这个请求接口，当我们调用这个<code>getTest()</code>方法时，<code>vue.config.js</code>中的<code>proxy</code>会自动帮我们把接口转发到<code>http://localhost:3400/mock/test.json</code>，即<code>public/mock/test.json</code>。</p> <h2 id="更方便的mock方式"><a href="#更方便的mock方式" aria-hidden="true" class="header-anchor">#</a> 更方便的Mock方式</h2> <div class="tip custom-block"><p>我们不光要本地<code>mock</code>，还要发布到<code>Github Pages</code>上，可以随时预览我们的项目。</p></div> <p>由于我们采用打包部署到<code>Github Pages</code>上的方式，同时我们本地<code>mock</code>的数据也会被打包进<code>dist</code>目录，但由于我们使用的是本地<code>mock</code>数据的方式。也就是说：如果我们不改动我们的代码，那么我们是预览不了的，因为<code>proxy</code>只支持本地服务。<br><br>
为了解决以上问题，我们需要按下面的步骤进行解决：</p> <ul><li>找到一种可以通过在线请求接口方式</li> <li>配置在线请求。</li> <li>进行本地开发和部署接口请求方式的区分</li></ul> <p><strong>解决问题一</strong>：由于我们可以把<code>Github Pages</code>当做一个远程服务器，那么我们发布后的<code>mock</code>数据，是可以通过一定的方式获取到的，它的获取方式如下：</p> <ul><li>假如我们部署的地址是<code>https://wangtunan.github.io/vue-mooc/</code>，那么我们可以通过<code>https://wangtunan.github.io/vue-mooc/mock/xxxx.json</code>的方式请求到我们<code>mock</code>的数据，既然想法有了，那么我们用<code>postman</code>实际测试一下：
<img src="/vue-mooc-site/assets/img/postman.26e4d5e9.png" alt="postman"></li></ul> <p><strong>解决问题二、三</strong>：通过第一个步骤，我们已经知道了，我们可以通过一定的手段拿到我们发布后的<code>mock</code>数据请求地址，那么我们现在来动手配置一下。<br>
在<code>src/api/</code>目录下，新建一个<code>config.js</code>的文件，此文件放置所有与请求相关的变量定义：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 接口请求错误状态码</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">ERR_OK</span> <span class="token operator">=</span> <span class="token number">0</span>
<span class="token comment">// axios请求基地址</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">BASE_URL</span> <span class="token operator">=</span> <span class="token string">'https://wangtunan.github.io/vue-mooc'</span>
<span class="token comment">// 通过环境变量区分是否为本地开发，还是生产部署</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">IS_MOCK_LOCAL</span> <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'development'</span>
</code></pre></div><p>撰写完以上代码后，我们最后需要在<code>utils/axios.js</code>文件中做一点小小的改动(参考代码高亮部分)：</p> <div class="language-js extra-class"><div class="highlight-lines"><br><br><br><div class="highlighted"> </div><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-js"><code><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Message <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'element-ui'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">ERR_OK</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'api/config.js'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">BASE_URL</span><span class="token punctuation">,</span> <span class="token constant">IS_MOCK_LOCAL</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'api/config.js'</span>

<span class="token keyword">const</span> service <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  baseURL<span class="token punctuation">:</span> <span class="token constant">IS_MOCK_LOCAL</span> <span class="token operator">?</span> <span class="token string">''</span> <span class="token punctuation">:</span> <span class="token constant">BASE_URL</span><span class="token punctuation">,</span>
  timeout<span class="token punctuation">:</span> <span class="token number">10000</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 请求拦截</span>
service<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
  <span class="token parameter">config</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> config
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span>

<span class="token comment">//响应拦截</span>
service<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
  <span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> <span class="token punctuation">{</span>status<span class="token punctuation">,</span> data<span class="token punctuation">}</span> <span class="token operator">=</span> response
    <span class="token keyword">if</span> <span class="token punctuation">(</span>status <span class="token operator">!==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      Message<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'网络异常，请刷新或者重试!'</span><span class="token punctuation">)</span>
      <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">'网络异常!'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>code <span class="token operator">!==</span> <span class="token constant">ERR_OK</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      Message<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>msg <span class="token operator">||</span> <span class="token string">'接口请求异常，请重试!'</span><span class="token punctuation">)</span>
      <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>msg <span class="token operator">||</span> <span class="token string">'接口异常!'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> service
</code></pre></div><p>以上做法的好处在于：</p> <ul><li>方便本地开发和生产部署之前快速切换</li> <li>当远程接口出现问题的时候，本地开发依旧不受影响。</li></ul> <p>来自<code>easy-mock</code>暴击之后，深刻的领悟。。。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新时间: </span> <span class="time">10/8/2019, 10:49:02 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/vue-mooc-site/guide/basic/start.html" class="prev">
          起步
        </a></span> <span class="next"><a href="/vue-mooc-site/guide/basic/vuex.html">
          Vuex&amp;缓存
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/vue-mooc-site/assets/js/app.611eefa8.js" defer></script><script src="/vue-mooc-site/assets/js/13.cdaafb88.js" defer></script><script src="/vue-mooc-site/assets/js/27.3b01d506.js" defer></script>
  </body>
</html>
